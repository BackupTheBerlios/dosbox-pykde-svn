<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>Dosbox-pykde</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="dosbox-pykde">
<h1 class="title"><a class="reference" href="http://dosbox-pykde.berlios.de">Dosbox-pykde</a></h1>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#what-is-it" id="id3" name="id3">What is it?</a></li>
<li><a class="reference" href="#goals" id="id4" name="id4">Goals</a></li>
<li><a class="reference" href="#features" id="id5" name="id5">Features</a></li>
<li><a class="reference" href="#a-short-history-and-rationale-about-file-management" id="id6" name="id6">A short history and rationale about file management</a></li>
<li><a class="reference" href="#dependencies" id="id7" name="id7">Dependencies</a></li>
<li><a class="reference" href="#project" id="id8" name="id8">Project</a></li>
<li><a class="reference" href="#related-projects" id="id9" name="id9">Related projects</a></li>
<li><a class="reference" href="#intended-audience-users" id="id10" name="id10">Intended Audience/Users</a></li>
<li><a class="reference" href="#download" id="id11" name="id11">Download</a></li>
<li><a class="reference" href="#install" id="id12" name="id12">Install</a></li>
<li><a class="reference" href="#documentation" id="id13" name="id13">Documentation</a></li>
<li><a class="reference" href="#planned-changes" id="id14" name="id14">Planned changes</a></li>
<li><a class="reference" href="#todo" id="id15" name="id15">Todo</a></li>
</ul>
</div>
<p>This is the homepage of <a class="reference" href="http://dosbox-pykde.berlios.de">dosbox-pykde</a>.  Not much here yet, just started writing the page.</p>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id3" id="what-is-it" name="what-is-it">What is it?</a></h1>
<p>Dosbox-pykde is a frontend for <a class="reference" href="http://dosbox.sourceforge.net/">dosbox</a> for the <a class="reference" href="http://www.kde.org/">KDE</a> desktop.  It is similar to other frontends
for dosbox.  The major difference with this one, is that it is centered around file management.
This frontend is designed to separate the freshly installed files from the changed
file, configuration files, and saved games.  Every game entry in
the frontend is split between two different archives.  The first
archive is a zipfile created upon entry to the frontend.  This is
meant to save a fresh install.  The secondary, or extras archive, is
a tarball whose contents are generated from an rdiff-backup of the
leftover or changed files relative to the install archive.</p>
<p>Although it is currently usable, it is still being considered in the planning stage until I work
out some of the features.  I may make it optional to tarball the secondary archive, and let the
user be able to just hold an rdiff-backup directory.  I may make rdiff-backup optional, and make
a cheap internal replacement for it.  I don't really have a frontend to handle configurations yet.
Currently, only one default configuration is supported, with per game overrides.  Autoexec lines in the configuration are not yet supported.</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id4" id="goals" name="goals">Goals</a></h1>
<p>One of the goals of this project is to provide a good example application of <a class="reference" href="http://www.riverbankcomputing.co.uk/pykde/">PyKDE</a>.  I have
spent some extra time in writing comments throughout the code detailing some of PyKDE.
As of now, there are very few applications that use PyKDE primarily.  There are quite a few,
not very many, but a few that use PyQt.  The PyKDE environment is much richer than the
PyQt environment, and provides easier widgets to work with.  The sad fact is that there the
current state of documentation and examples are pretty poor, leaving developers to read
through the C++ documentation.  This is not always easy for a person who is primarily a
python user to do.  This program makes an attempt to ease entry into programming with
PyKDE.  I will make an attempt, where possible or applicable, to use PyKDE the way it
&quot;should&quot; be used.  I heartily welcome suggestions that help this.</p>
<p>I do believe in using pure python where it is more appropriate, and using the PyKDE/PyQt
widgets where they are best represented.  One of the strengths of Qt and even KDE in the
C++ environment is that they offer access to many things that are already handled by python.
For example, in Qt, there is a QString type that provides many methods for dealing with
strings.  In python, the string type already has methods for dealing with string objects, and a
python programmer would probably be more familiar with those.  So while knowing how to
use QString objects may really help the C++ programmer, they are more likely to just be in
the python programmer's way.  Other examples are the QMap and QList types, which are
handled by the dictionary and list objects in python.  Network functions and XML processing
are preferred to be handled by python in lieu of using the Qt equivalents.</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id5" id="features" name="features">Features</a></h1>
<ul class="simple">
<li>File management<ul>
<li>All new games added to the frontend are archived in a &quot;fresh install&quot; zip file.</li>
<li>All new and changed files are archived with rdiff-backup into a separate &quot;extras archive&quot;.</li>
</ul>
</li>
<li>HTML presentation of information<ul>
<li>HTML description of game</li>
<li>Screenshots - currently only displaying title screenshot</li>
<li>Web/Documentation links<ul>
<li>While this feature started out to be a way to launch a web browser for links pertaining to
the game, it is also useful for linking to local documents like manuals, maps and
walkthroughs.</li>
</ul>
</li>
</ul>
</li>
<li>Game specific configuration<ul>
<li>While this is currently implemented, the config files must be made manually with a
text editor.</li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id6" id="a-short-history-and-rationale-about-file-management" name="a-short-history-and-rationale-about-file-management">A short history and rationale about file management</a></h1>
<p>Probably the most feature of this frontend is its ability to manage archives.  Most emulator
frontends have little need for this type of functionality, because they are mainly console,
or arcade frontends.  These frontend usually work off of rom images or a zip file of rom images,
and the configuration and savegame data is already separate from those images.  This is not
the case with dosbox, or even other computer emulators.  With dosbox, the game files are
generally stored in a single directory with the settings and saved games somewhere in that tree.</p>
<p>When I first started using dosbox, I decided not to use a frontend at all.  What I did is make a
&quot;c: drive&quot; out of a directory on my filesystem called &quot;dosbox&quot;.  I used an automenu program
in the autoexec as my &quot;frontend&quot;.  This did a pretty good job, and it was comparable to how
people used to run DOS on their computers.  For file management, I used to do an rdiff-backup
over the whole dosbox tree regularly.  This method became somewhat cumbersome later on as
I decided to add new games or remove old ones, or even rearrange the dosbox tree.</p>
<p>These problems led me to create this frontend that manages the files on a &quot;per game&quot; basis.
I decided to keep using rdiff-backup, because it is an good program, and an excellent way
to keep track of previous saved games and changes in settings.  Currently, dosbox-pykde
does most of what I want it to do with my files &quot;under the hood&quot; to my liking.</p>
<p>Lately, I have been wondering what other users would like in a frontend, and whether they
would like file management features at all.  I experimented with making file management
optional, but ran across a few problems with it.  The main problem, if file management is made
optional,  is that it is somewhat difficult to change your mind later and start trying to manage
files after games have been added to the frontend.  Another problem is the amount of code to
change to adapt to users who don't want dosbox-pykde to manage their files.  Due to this, I
have decided to make file management a required feature.</p>
<p>However, I have been trying to decide whether rdiff-backup, rsync, tar, and bzip2 should be
required dependencies.  The main reason that they are required now, is that I don't want to
reinvent the wheel to replace their functionality.  Most dosbox-pykde users should already have
tar and bzip2 installed on their systems.  Most distributions have rsync, so it should be easy
to install.  Rdiff-backup is also pretty well-known, and should be available on most distributions.</p>
<p>I may soon make archiving the rdiff-backup repository optional, allowing the user to keep the
rdiff-backup trees for the games in a directory.  This would remove the dependencies on tar and
bzip2.  Rsync could be replaces with shutils.copytree from python, but I don't much like the
copytree implementation.  The copytree implementation may not be a problem when dealing
with &quot;dos&quot; files and directories, but I haven't tried testing it yet.  If these things are done, it
would still leave rdiff-backup as a dependency.  There is no easy way to replace rdiff-backup.
There could be an option for a &quot;flat&quot; backup of files that are not in the installed archive, but I
haven't thought it through yet.</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id7" id="dependencies" name="dependencies">Dependencies</a></h1>
<ul class="simple">
<li>Main Dependencies:<ul>
<li><a class="reference" href="http://python.org">Python</a> - The whole application is written in python.
- Python 2.4 is being used for development, dosbox-pykde should work with 2.3 now
but this may change shortly in the future.</li>
<li><a class="reference" href="http://www.riverbankcomputing.co.uk/pykde/">PyKDE</a> - Python bindings for the KDE desktop environment.</li>
<li><a class="reference" href="http://www.nongnu.org/rdiff-backup/">rdiff-backup</a> - Used for making incremental backups of saved games and configurations.</li>
<li><a class="reference" href="http://dosbox.sourceforge.net/">dosbox</a> - This is a frontend for dosbox.  The application has little value without this.</li>
</ul>
</li>
<li>Dependencies that may be either removed or optional in the future:<ul>
<li><a class="reference" href="http://samba.anu.edu.au/rsync/">rsync</a> - Used to copy the files from an rdiff-backup restoration to the dosbox directory.<ul>
<li>This may be replaced later with shutil.copytree().</li>
</ul>
</li>
<li>Optional dependencies:<ul>
<li><a class="reference" href="http://www.gnu.org/software/tar/">tar</a> - Used to archive the rdiff-backup repositories, I'm afraid to use zip for this.</li>
<li><a class="reference" href="http://www.bzip.org/">bzip2</a> - Used with tar above to compress the rdiff-backup repositories.</li>
<li>while tar and bzip2 are optional, the code hasn't been well tested.  Also, changing
your mind later on about using them may be difficult.  It is currently suggested to go
ahead and use them.</li>
</ul>
</li>
<li>Removed dependencies:<ul>
<li><a class="reference" href="http://forgethtml.sourceforge.net/">forgetHTML</a> - A pythonic way of writing HTML documents. This is currently included with
dosbox-pykde.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id8" id="project" name="project">Project</a></h1>
<p><a class="reference" href="http://developer.berlios.de/projects/dosbox-pykde">project</a> page</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id9" id="related-projects" name="related-projects">Related projects</a></h1>
<dl class="docutils">
<dt><a class="reference" href="http://chmaster.freeforge.net/dboxfe-project.htm">DboxFE</a> - This is a frontend using C++ Qt.  It has an advantage of being able to also run</dt>
<dd>in windows.</dd>
</dl>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="intended-audience-users" name="intended-audience-users">Intended Audience/Users</a></h1>
<p>KDE users on i386/amd64 architectures.</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id11" id="download" name="download">Download</a></h1>
<p>Currently the best way to obtain dosbox-pykde is through subversion:</p>
<pre class="literal-block">
svn checkout svn://svn.berlios.de/dosbox-pykde/trunk dosbox-pykde
</pre>
<p><a class="reference" href="svn://svn.berlios.de/dosbox-pykde">svn</a> access (This will work in konqueror.)</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id12" id="install" name="install">Install</a></h1>
<p>The python distutils are used to install this application.</p>
<p>In the toplevel directory, type:</p>
<pre class="literal-block">
./setup.py install
</pre>
<p>or type:</p>
<pre class="literal-block">
python setup.py install
</pre>
<p>and everything should install.</p>
<p>To run from the source tree, type:</p>
<pre class="literal-block">
PYTHONPATH=`pwd`/lib ./dosbox-pykde
</pre>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id13" id="documentation" name="documentation">Documentation</a></h1>
<p>Working on this.  It is currently located in data/doc/index.docbook .  It can be built
from the source tree with:</p>
<pre class="literal-block">
pushd data/doc &amp;&amp; meinproc index.docbook &amp;&amp; popd
</pre>
<p>This will build a collection of html files in the data/doc  directory.</p>
<p>The docbook documentation is planned to be built, installed in the future.</p>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id14" id="planned-changes" name="planned-changes">Planned changes</a></h1>
<p>This section is to describe changes that will affect the current usage of dosbox-pykde.  This
includes changes in the configuration, or changes to the locations of certain files and
directories that will possibly adversely affect users.</p>
<ul class="simple">
<li>Decide on how to implement alternative file management methods.</li>
<li>Move the main config file from data directory to config directory.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="toc-backref" href="#id15" id="todo" name="todo">Todo</a></h1>
<p>Here is a list of things that need to be done.  These things should not affect the usage of
the application from version to version.</p>
<ul class="simple">
<li>Use a wizard to create the default configuration.</li>
<li>Devise a method for implementing the autoexec section in the dosbox configuration.</li>
<li>Add more tooltips to the gui.</li>
<li>Generate the documentation during the build process, and figure out how to install it.<ul>
<li>Determine the requirements for building.<ul>
<li>Do most kde users have meinproc already installed?</li>
<li>meinproc is in kdelibs on debian</li>
</ul>
</li>
<li>Figure out where to install docs, and if they need registering with KDE.</li>
</ul>
</li>
<li>Create some icons, and figure out how to install them.</li>
<li>Finish writing the documentation.</li>
<li>Make a gui for handling the game specific configurations.</li>
<li>Clean up the code surrounding the various progress dialogs.</li>
<li>Decide the fate of the dosbox-pyqt part of the application.</li>
<li>Add new config options to settings widget.</li>
<li>Replace os.system calls with subprocess.call or subprocess.Popen</li>
<li>make a primary and secondary installed_archives_path options<ul>
<li>one for writing new installs, and another for read-only access (like from a dvd)</li>
</ul>
</li>
<li>categorize this todo list</li>
<li>add more dialogs for both information and yes/no to make sure requested action is
proper</li>
</ul>
<hr class="docutils" />
<p>This <a class="reference" href="http://developer.berlios.de/projects/dosbox-pykde">project</a> is hosted by <a class="reference" href="http://developer.berlios.de"><img alt="berlios" src="http://developer.berlios.de/bslogo.php?group_id=0&amp;type=1" /></a>.</p>
</div>
</div>
</body>
</html>
